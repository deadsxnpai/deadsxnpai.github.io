<!DOCTYPE html>
<html lang="en" class="h-100">
<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C++ for Beginners</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<link href="css/conent.css" rel="stylesheet">
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/styles/default.min.css">
<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/highlight.min.js"></script>

</head>

<body id="swup" class="d-flex h-100 text-center text-bg-dark">

    <div class="cover-container p-3 w-100 mx-auto flex-column">
        <header class="mb-auto">
          <div>
            <h3 class="float-md-start mb-0"><a class="nav-link px-0" href="https://deadsxnpai.github.io/index.html">C++ </a> </h3>
            <nav class="nav nav-masthead justify-content-center float-md-end">
              <a class="nav-link fw-bold py-1 px-0 active" aria-current="page" href="https://deadsxnpai.github.io/index.html">Главная</a>
              <a class="nav-link fw-bold py-1 px-0" href="https://deadsxnpai.github.io/volumes.html">Главы</a>
              <a class="nav-link fw-bold py-1 px-0" href="http://localhost:3000/">Запустить</a>
            </nav>
          </div>
        </header>
        <div class="sidenav">
            <h5 style="margin-left: 5%;">Оглавление</h5>
          <a href="lesson1.html">Урок 1</a>
          <a href="lesson2.html">Урок 2</a>
          <a href="lesson3.html">Урок 3</a>
          <a href="lesson4.html">Урок 4</a>
          <a href="lesson5.html">Урок 5</a>
          <a href="lesson6.html">Урок 6</a>
          <a href="lesson7.html">Урок 7</a>
          <a href="lesson8.html">Урок 8</a>
          <a href="lesson9.html">Урок 9</a>
          <a href="lesson10.html">Урок 10</a>
          <a href="lesson11.html">Урок 11</a>
        </div>

      
        <div id="start" class="transition-fade">
            <h1>Массивы в C++ — урок 5</h1>
            <p style="text-align:left">Сегодня мы с поговорим о массивах. Вы уже знаете, что переменная — это ячейка в памяти компьютера, где может храниться одно единственное значение. Массив — это область памяти, где могут последовательно храниться несколько значений.

                Возьмем группу студентов из десяти человек. У каждого из них есть фамилия. Создавать отдельную переменную для каждого студента — не рационально. Создадим массив, в котором будут храниться фамилии всех студентов.</p>
            <h2>Пример инициализации массива</h2>
            <pre><code class="cpp hljs">
                <span class="hljs-built_in">string</span> students[<span class="hljs-number">10</span>] = {
                <span class="hljs-string">"Иванов"</span>, <span class="hljs-string">"Петров"</span>, <span class="hljs-string">"Сидоров"</span>,
                <span class="hljs-string">"Ахмедов"</span>, <span class="hljs-string">"Ерошкин"</span>, <span class="hljs-string">"Выхин"</span>,
                <span class="hljs-string">"Андеев"</span>, <span class="hljs-string">"Вин Дизель"</span>, <span class="hljs-string">"Картошкин"</span>, <span class="hljs-string">"Чубайс"</span>
                };
            </code></pre>
            <h2>Описание синтаксиса</h2>
            <p style="text-align:left">Массив создается почти так же, как и обычная переменная. Для хранения десяти фамилий нам нужен массив, состоящий из 10 элементов. Количество элементов массива задается при его объявлении и заключается в квадратные скобки.

                Чтобы описать элементы массива сразу при его создании, можно использовать фигурные скобки. В фигурных скобках значения элементов массива перечисляются через запятую. В конце закрывающей фигурной скобки ставится точка с запятой.
                
                Попробуем вывести наш массив на экран с помощью оператора cout.</p>
            <pre><code class="cpp hljs">
                <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
                <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>
                
                <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>    
                </span>{
                        <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> students[<span class="hljs-number">10</span>] = {
                        <span class="hljs-string">"Иванов"</span>, <span class="hljs-string">"Петров"</span>, <span class="hljs-string">"Сидоров"</span>,
                        <span class="hljs-string">"Ахмедов"</span>, <span class="hljs-string">"Ерошкин"</span>, <span class="hljs-string">"Выхин"</span>,
                        <span class="hljs-string">"Андеев"</span>, <span class="hljs-string">"Вин Дизель"</span>, <span class="hljs-string">"Картошкин"</span>, <span class="hljs-string">"Чубайс"</span>
                    };
                    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; students &lt;&lt; <span class="hljs-built_in">std</span>::endl; <span class="hljs-comment">// Пытаемся вывести весь массив непосредственно</span>
                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
                }
            </code></pre>
            <p style="text-align:left">Скомпилируйте этот код и посмотрите, на результат работы программы. Готово? А теперь запустите программу еще раз и сравните с предыдущим результатом. В моей операционной системе вывод был следующим:</p>
            <ul style="text-align:left">
                <li>Первый вывод: 0x7ffff8b85820</li>
                <li>Второй вывод: 0x7fff7a335f90</li>
                <li>Третий вывод: 0x7ffff847eb40</li>
            </ul>
            <p style="text-align:left">Мы видим, что выводится адрес этого массива в оперативной памяти, а никакие не «Иванов» и «Петров».

                Дело в том, что при создании переменной, ей выделяется определенное место в памяти. Если мы объявляем переменную типа int, то на машинном уровне она описывается двумя параметрами — ее адресом и размером хранимых данных.
                
                Массивы в памяти хранятся таким же образом. Массив типа int из 10 элементов описывается с помощью адреса его первого элемента и количества байт, которое может вместить этот массив. Если для хранения одного целого числа выделяется 4 байта, то для массива из десяти целых чисел будет выделено 40 байт.
                
                Так почему же, при повторном запуске программы, адреса различаются? Это сделано для защиты от атак переполнения буфера. Такая технология называется рандомизацией адресного пространства и реализована в большинстве популярных ОС.
                
                Попробуем вывести первый элемент массива — фамилию студента Иванова.</p>
            <pre><code class="cpp hljs">
                <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
                <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>
                
                <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
                </span>{    
                    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> students[<span class="hljs-number">10</span>] = {
                        <span class="hljs-string">"Иванов"</span>, <span class="hljs-string">"Петров"</span>, <span class="hljs-string">"Сидоров"</span>,
                        <span class="hljs-string">"Ахмедов"</span>, <span class="hljs-string">"Ерошкин"</span>, <span class="hljs-string">"Выхин"</span>,
                        <span class="hljs-string">"Андеев"</span>, <span class="hljs-string">"Вин Дизель"</span>, <span class="hljs-string">"Картошкин"</span>, <span class="hljs-string">"Чубайс"</span>
                    };
                    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; students[<span class="hljs-number">0</span>] &lt;&lt;  <span class="hljs-built_in">std</span>::endl;
                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
                }
            </code></pre>
            <p style="text-align:left">Смотрим, компилируем, запускаем. Убедились, что вывелся именно «Иванов». Заметьте, что нумерация элементов массива в C++ начинается с нуля. Следовательно, фамилия первого студента находится в students[0], а фамилия последнего — в students[9].

                В большинстве языков программирования нумерация элементов массива также начинается с нуля.
                
                Попробуем вывести список всех студентов. Но сначала подумаем, а что если бы вместо группы из десяти студентов, была бы кафедра их ста, факультет из тысячи, или даже весь университет? Ну не будем же мы писать десятки тысяч строк с cout?
                
                Конечно же нет! Мы возьмем на вооружение циклы, о которых был написан предыдущий урок.</p>
            <h2>Вывод элементов массива через цикл</h2>
            <pre><code class="hljs cpp">
                <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
                <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>
                
                <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
                </span>{
                    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> students[<span class="hljs-number">10</span>] = {
                        <span class="hljs-string">"Иванов"</span>, <span class="hljs-string">"Петров"</span>, <span class="hljs-string">"Сидоров"</span>,
                        <span class="hljs-string">"Ахмедов"</span>, <span class="hljs-string">"Ерошкин"</span>, <span class="hljs-string">"Выхин"</span>,
                        <span class="hljs-string">"Андеев"</span>, <span class="hljs-string">"Вин Дизель"</span>, <span class="hljs-string">"Картошкин"</span>, <span class="hljs-string">"Чубайс"</span>
                    };  
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
                        <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; students[i] &lt;&lt; <span class="hljs-built_in">std</span>::endl;
                    }
                
                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
                }
            </code></pre>
            <p style="text-align:left">Если бы нам пришлось выводить массив из нескольких тысяч фамилий, то мы бы просто увеличили конечное значение счетчика цикла — строку for (...; i < 10; ...) заменили на for (...; i < 10000; ...).

                Заметьте что счетчик нашего цикла начинается с нуля, а заканчивается девяткой. Если вместо оператора строгого неравенства — i < 10 использовать оператор «меньше, либо равно» — i <= 10, то на последней итерации программа обратится к несуществующему элементу массива — students[10]. Это может привести к ошибкам сегментации и аварийному завершению программы. Будьте внимательны — подобные ошибки бывает сложно отловить.
                
                Массив, как и любую переменную можно не заполнять значениями при объявлении.</p>
            <h2>Объявление массива без инициализации</h2>
            <pre><code class="cpp hljs">
                <span class="hljs-built_in">string</span> students[<span class="hljs-number">10</span>];
                <span class="hljs-comment">// или</span>
                <span class="hljs-built_in">string</span> teachers[<span class="hljs-number">5</span>];
            </code></pre>
            <p style="text-align:left">Элементы такого массива обычно содержат в себе «мусор» из выделенной, но еще не инициализированной, памяти. Некоторые компиляторы, такие как GCC, заполняют все элементы массива нулями при его создании.

                При создании статического массива, для указания его размера может использоваться только константа. Размер выделяемой памяти определяется на этапе компиляции и не может изменяться в процессе выполнения.</p>
                <pre><code class="cpp hljs">
                    <span class="hljs-keyword">int</span> n;
                    <span class="hljs-built_in">cin</span> &gt;&gt; n;
                    <span class="hljs-built_in">string</span> students[n]; <span class="hljs-comment">/* Неверно */</span>
                </code></pre>
            <p style="text-align:left">Выделение памяти в процессе выполнения возможно при работе с динамическими массивами. Но о них немного позже.

                Заполним с клавиатуры пустой массив из 10 элементов.</p>
            <h2>Заполнение массива с клавиатуры</h2>
            <pre><code class="hljs cpp">
                <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
                <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>
                
                <span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>;
                <span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cin</span>;
                <span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::endl;
                
                <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
                </span>{    
                        <span class="hljs-keyword">int</span> arr[<span class="hljs-number">10</span>];
                
                        <span class="hljs-comment">// Заполняем массив с клавиатуры</span>
                        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
                            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"["</span> &lt;&lt; i + <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-string">"]"</span> &lt;&lt; <span class="hljs-string">": "</span>;
                            <span class="hljs-built_in">cin</span> &gt;&gt; arr[i];
                        }
                
                        <span class="hljs-comment">// И выводим заполненный массив.</span>
                        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"\nВаш массив: "</span>;
                
                        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i) {
                            <span class="hljs-built_in">cout</span> &lt;&lt; arr[i] &lt;&lt; <span class="hljs-string">" "</span>;
                        }
                
                        <span class="hljs-built_in">cout</span> &lt;&lt; endl;
                
                        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
                }
                </code></pre>
                <p style="text-align:left">Если у вас возникают проблемы при компиляции исходников из уроков — внимательно прочитайте ошибку компилятора, попробуйте проанализировать и исправить ее. </p>
        </div>
          <footer class="mt-auto text-white-50">
          <p>Пособие для изучения <a href="https://ru.cppreference.com/w/" class="text-white">C++</a>, by <a href="http://vk.com/dead.senpai" class="text-white">Ключников Даниил</a>.</p>
        </footer>
      </div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>