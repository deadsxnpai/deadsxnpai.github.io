<!DOCTYPE html>
<html lang="en" class="h-100">
<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C++ for Beginners</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<link href="css/conent.css" rel="stylesheet">
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/styles/default.min.css">
<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/highlight.min.js"></script>

</head>

<body id="swup" class="d-flex h-100 text-center text-bg-dark">

    <div class="cover-container p-3 w-100 mx-auto flex-column">
        <header class="mb-auto">
          <div>
            <h3 class="float-md-start mb-0"><a class="nav-link px-0" href="https://deadsxnpai.github.io/index.html">C++ </a> </h3>
            <nav class="nav nav-masthead justify-content-center float-md-end">
              <a class="nav-link fw-bold py-1 px-0 active" aria-current="page" href="https://deadsxnpai.github.io/index.html">Главная</a>
              <a class="nav-link fw-bold py-1 px-0" href="https://deadsxnpai.github.io/volumes.html">Главы</a>
              <a class="nav-link fw-bold py-1 px-0" href="http://localhost:3000/" target="_blank">Запустить</a>
            </nav>
          </div>
        </header>
        <div class="sidenav">
            <h4 style="margin-left: 5%;">Оглавление</h4>
            <hr>
          <a href="lesson1.html">Урок 1</a>
          <hr>
          <a href="lesson2.html">Урок 2</a>
          <hr>
          <a href="lesson3.html">Урок 3</a>
          <hr>
          <a href="lesson4.html">Урок 4</a>
          <hr>
          <a href="lesson5.html">Урок 5</a>
          <hr>
          <a href="lesson6.html">Урок 6</a>
          <hr>
          <a href="lesson7.html">Урок 7</a>
          <hr>
          <a href="lesson8.html">Урок 8</a>
          <hr>
          <a href="lesson9.html">Урок 9</a>
          <hr>
          <a href="lesson10.html">Урок 10</a>
          <hr>
          <a href="lesson11.html">Урок 11</a>
          <hr>
        </div>

      
        <div id="start" class="transition-fade">
            <h1>Функции в C++ — урок 6</h1>
            <p style="text-align:left">Сегодня мы поговорим о функциях в C++. Очень часто в программировании необходимо выполнять одни и те же действия. Например, мы хотим выводить пользователю сообщения об ошибке в разных местах программы, если он ввел неверное значение. без функций это выглядело бы так:</p>
            <pre><code class="hljs cpp">
                <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
                <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>
                
                <span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
                
                <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
                </span>{    
                    <span class="hljs-built_in">string</span> valid_pass = <span class="hljs-string">"qwerty123"</span>;
                    <span class="hljs-built_in">string</span> user_pass;
                    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Введите пароль: "</span>;
                    getline(<span class="hljs-built_in">cin</span>, user_pass);
                    <span class="hljs-keyword">if</span> (user_pass == valid_pass) {
                        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Доступ разрешен."</span> &lt;&lt; endl;
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Неверный пароль!"</span> &lt;&lt; endl;
                    }
                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;    
                }
            </code></pre>
            <p style="text-align:left">А вот аналогичный пример с функцией:</p>
            <pre><code class="hljs cpp">
                <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
                <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>
                
                <span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
                
                <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">check_pass</span> <span class="hljs-params">(<span class="hljs-built_in">string</span> password)</span>
                </span>{
                    <span class="hljs-built_in">string</span> valid_pass = <span class="hljs-string">"qwerty123"</span>;
                    <span class="hljs-keyword">if</span> (password == valid_pass) {
                        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Доступ разрешен."</span> &lt;&lt; endl;
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Неверный пароль!"</span> &lt;&lt; endl;
                    }
                }
                
                <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
                </span>{    
                    <span class="hljs-built_in">string</span> user_pass;
                    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Введите пароль: "</span>;
                    getline (<span class="hljs-built_in">cin</span>, user_pass);
                    check_pass (user_pass);
                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
                }
            </code></pre>
            <p style="text-align:left">По сути, после компиляции не будет никакой разницы для процессора, как для первого кода, так и для второго. Но ведь такую проверку пароля мы можем делать в нашей программе довольно много раз. И тогда получается копипаста и код становится нечитаемым. Функции — один из самых важных компонентов языка C++.</p>
            <ul style="text-align:left">
                <li>Любая функция имеет тип, также, как и любая переменная.</li>
                <li>Функция может возвращать значение, тип которого в большинстве случаев аналогично типу самой функции.</li>
                <li>Если функция не возвращает никакого значения, то она должна иметь тип void (такие функции иногда называют процедурами)</li>
                <li>При объявлении функции, после ее типа должно находиться имя функции и две круглые скобки — открывающая и закрывающая, внутри которых могут находиться один или несколько аргументов функции, которых также может не быть вообще.</li>
                <li>после списка аргументов функции ставится открывающая фигурная скобка, после которой находится само тело функции.</li>
                <li>В конце тела функции обязательно ставится закрывающая фигурная скобка.</li>
            </ul>
            <h2>Пример построения функции</h2>
            <pre><code class="hljs cpp">
                <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span>     </span>
                <span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
                
                <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">function_name</span> <span class="hljs-params">()</span>
                </span>{
                    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Hello, world"</span> &lt;&lt; endl;
                }
                
                <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
                </span>{
                    function_name(); <span class="hljs-comment">// Вызов функции</span>
                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
                }
            </code></pre>
            <p style="text-align:left">Перед вами тривиальная программа, Hello, world, только реализованная с использованием функций.

                Если мы хотим вывести «Hello, world» где-то еще, нам просто нужно вызвать соответствующую функцию. В данном случае это делается так: function_name();. Вызов функции имеет вид имени функции с последующими круглыми скобками. Эти скобки могут быть пустыми, если функция не имеет аргументов. Если же аргументы в самой функции есть, их необходимо указать в круглых скобках.
                
                Также существует такое понятие, как параметры функции по умолчанию. Такие параметры можно не указывать при вызове функции, т.к. они примут значение по умолчанию, указанно после знака присваивания после данного параметра и списке всех параметров функции.
                
                В предыдущих примерах мы использовали функции типа void, которые не возвращают никакого значения. Как многие уже догадались, оператор return используется для возвращения вычисляемого функцией значения.
                
                Рассмотрим пример функции, возвращающей значение на примере проверки пароля.</p>
                <pre><code class="hljs cpp">
                    <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
                    <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>
                    
                    <span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
                    
                    <span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">check_pass</span> <span class="hljs-params">(<span class="hljs-built_in">string</span> password)</span>
                    </span>{
                        <span class="hljs-built_in">string</span> valid_pass = <span class="hljs-string">"qwerty123"</span>;
                        <span class="hljs-built_in">string</span> error_message;
                        <span class="hljs-keyword">if</span> (password == valid_pass) {
                            error_message = <span class="hljs-string">"Доступ разрешен."</span>;
                        } <span class="hljs-keyword">else</span> {
                            error_message = <span class="hljs-string">"Неверный пароль!"</span>;
                        }
                        <span class="hljs-keyword">return</span> error_message;
                    }
                    
                    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
                    </span>{    
                        <span class="hljs-built_in">string</span> user_pass;
                        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Введите пароль: "</span>;
                        getline (<span class="hljs-built_in">cin</span>, user_pass);
                        <span class="hljs-built_in">string</span> error_msg = check_pass (user_pass);
                        <span class="hljs-built_in">cout</span> &lt;&lt; error_msg &lt;&lt; endl;
                        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
                    }
            </code></pre>
            <p style="text-align:left">В данном случае функция check_pass имеет тип string, следовательно она будет возвращать только значение типа string, иными словами говоря строку. Давайте рассмотрим алгоритм работы этой программы.

                Самой первой выполняется функция main(), которая должна присутствовать в каждой программе. Теперь мы объявляем переменную user_pass типа string, затем выводим пользователю сообщение «Введите пароль», который после ввода попадает в строку user_pass. А вот дальше начинает работать наша собственная функция check_pass().
                
                В качестве аргумента этой функции передается строка, введенная пользователем.
                </p>
                <p style="text-align:left">Аргумент функции — это, если сказать простым языком переменные или константы вызывающей функции, которые будет использовать вызываемая функция.
                
                При объявлении функций создается формальный параметр, имя которого может отличаться от параметра, передаваемого при вызове этой функции. Но типы формальных параметров и передаваемых функии аргументов в большинстве случаев должны быть аналогичны.
                
                После того, как произошел вызов функции check_pass(), начинает работать данная функция. Если функцию нигде не вызвать, то этот код будет проигнорирован программой. Итак, мы передали в качестве аргумента строку, которую ввел пользователь.
                
                Теперь эта строка в полном распоряжении функции (хочу обратить Ваше внимание на то, что переменные и константы, объявленные в разных функциях независимы друг от друга, они даже могут иметь одинаковые имена.</p> 
                <p style="text-align:left">В следующих уроках я расскажу о том, что такое область видимости, локальные и глобальные переменные).
                
                <p style="text-align:left">Теперь мы проверяем, правильный ли пароль ввел пользователь или нет. если пользователь ввел правильный пароль, присваиваем переменной error_message соответствующее значение. если нет, то сообщение об ошибке.
                
                После этой проверки мы возвращаем переменную error_message. На этом работа нашей функции закончена. А теперь, в функции main(), то значение, которое возвратила наша функция мы присваиваем переменной error_msg и выводим это значение (строку) на экран терминала.</p>
                
                <p style="text-align:left">Также, можно организовать повторный ввод пароля с помощью рекурсии (о ней мы еще поговорим). Если объяснять вкратце, рекурсия — это когда функция вызывает сама себя. Смотрите еще один пример:</p>
                <pre><code class="hljs cpp">
                    <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
                    <span class="hljs-preprocessor">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>
                    
                    <span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
                    
                    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">password_is_valid</span> <span class="hljs-params">(<span class="hljs-built_in">string</span> password)</span>
                    </span>{
                            <span class="hljs-built_in">string</span> valid_pass = <span class="hljs-string">"qwerty123"</span>;
                            <span class="hljs-keyword">if</span> (valid_pass == password)
                                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                            <span class="hljs-keyword">else</span>
                                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                    }
                    
                    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">get_pass</span> <span class="hljs-params">()</span>
                    </span>{
                            <span class="hljs-built_in">string</span> user_pass;
                            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Введите пароль: "</span>;
                            getline(<span class="hljs-built_in">cin</span>, user_pass);
                            <span class="hljs-keyword">if</span> (!password_is_valid(user_pass)) {
                                    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Неверный пароль!"</span> &lt;&lt; endl;
                                    get_pass (); <span class="hljs-comment">// Здесь делаем рекурсию</span>
                            } <span class="hljs-keyword">else</span> {
                                    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Доступ разрешен."</span> &lt;&lt; endl;
                            }
                    }
                    
                    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
                    </span>{
                            get_pass ();
                            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
                    }
                </code></pre>
            <p style="text-align:left">Функции очень сильно облегчают работу программисту и намного повышают читаемость и понятность кода, в том числе и для самого разработчика (не удивляйтесь этому, т. к. если вы откроете код, написанный вами полгода назад,не сразу поймете соль, поверьте на слово).

                Не расстраивайтесь, если не сразу поймете все аспекты функций в C++, т. к. это довольно сложная тема и мы еще будем разбирать примеры с функциями в следующих уроках.
                
                Совет: не бойтесь экспериментировать, это очень хорошая практика, а после прочтения данной статьи порешайте элементарные задачи, но с использованием функций. Это будет очень полезно для вас.
                
                Если Вы найдете какие-либо ошибки в моем коде, обязательно напишите об этом в комментариях. здесь же можно задавать все вопросы.</p>
        </div>
          <footer class="mt-auto text-white-50">
          <p>Пособие для изучения <a href="https://ru.cppreference.com/w/" class="text-white">C++</a>, by <a href="http://vk.com/dead.senpai" class="text-white">Ключников Даниил</a>.</p>
        </footer>
      </div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>